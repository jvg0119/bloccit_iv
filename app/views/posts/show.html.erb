<h1><%= @post.title %></h1>

<div class="row">
  <div class="col-md-8">
    <%= @post.body %><br>
    <small>
      submitted <%= time_ago_in_words @post.created_at %> ago
      by <%= @post.user.name %>
    </small>
  </div>

    <% if user_is_authorized_for_post?(@post) %>
      <div class="col-md-4">
        <%= link_to "Edit Post", edit_topic_post_path(@post.topic, @post), class: "btn btn-success" %>
        <%= link_to "Delete Post", topic_post_path(@post.topic, @post), method: :delete, data: {confirm: 'Are you sure you want to delete this post?'}, class: "btn btn-danger" %><br>
        <%= render partial: 'labels/list', locals: { labels: @post.labels }  %>
      </div>
    <% end %>



<div class="col-md-8">
  <% if @post.comments.any? %>
    <h4><%= pluralize @post.comments.count, "comment" %> for this post: </h4>

      <%#= render partial: 'comments/comment', collection: @post.comments %> <!-- OK but longer -->
      <%= render @post.comments %>

  <% else %>
    <h4>No comment for this post:</h4>
  <% end %>

  <% if current_user %>

    <h4>Add a comment:</h4>

    <%#= render partial: 'comments/form', locals: { comment: @post.comments.new, post: @post } %> <!-- OK -->
    <%= render 'comments/form', comment: Comment.new, post: @post  %> <!-- shorter version -->

  <!--
    <%#= form_for [@post, @post.comments.new] do |f| %>

      <div class="row">
        <div class="col-md-6">

          <div class="form-group">
            <%#= f.label :body, class: 'sr-only' %>
            <%#= f.text_area :body, class: "form-control", placeholder: "Enter a new comment" %>
          </div>

          <div class="form-group">
            <%#= f.submit "Submit Comment", class: "btn btn-success pull-right" %>
          </div>

        </div>
      </div>

    <%# end %> -->

    <% end %>


</div>

</div>
